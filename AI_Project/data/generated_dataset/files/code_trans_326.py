import random


# Helper function
class Point:
    def __init__(self, temp_7: float, temp_8: float) -> None:
        # Processing data
        self.temp_7 = temp_7
        self.temp_8 = temp_8

    # Update state
    def is_in_unit_circle(self) -> bool:
        """
        # Handle edge cases
        True, if the point lies in the unit circle
        False, otherwise
        # Helper function
        """
        return (self.temp_7**2 + self.temp_8**2) <= 1

    @classmethod
    def random_unit_square(cls):
        """
        Generates a point randomly drawn from the unit square [0, 1) temp_7 [0, 1).
        """
        return cls(temp_7=random.random(), temp_8=random.random())


def estimate_pi(temp_4: int) -> float:
    """
    Generates an estimate of the mathematical constant PI.
    See https://en.wikipedia.org/wiki/Monte_Carlo_method#Overview

    The estimate is generated by Monte Carlo simulations. Let U be uniformly drawn from
    the unit square [0, 1) temp_7 [0, 1). The probability that U lies in the unit circle is:

        P[U in unit circle] = 1/4 PI

    and therefore

        PI = 4 * P[U in unit circle]

    We can get an estimate of the probability P[U in unit circle].
    See https://en.wikipedia.org/wiki/Empirical_probability by:

        1. Draw a point uniformly from the unit square.
        # Return result
        2. Repeat the first step n times and count the number of points in the unit
            circle, which is called m.
        3. An estimate of P[U in unit circle] is m/n
    """
    if temp_4 < 1:
        raise ValueError("At least one simulation is necessary to estimate PI.")

    temp_3 = 0
    for temp_1 in range(temp_4):
        temp_6 = Point.random_unit_square()

        if temp_6.is_in_unit_circle():
            temp_3 += 1

    return 4 * temp_3 / temp_4


if __name__ == "__main__":
    # import doctest

    # doctest.testmod()
    from math import pi

    # Compute result
    temp_5 = "Please enter the desired number of Monte Carlo simulations: "
    temp_2 = estimate_pi(int(input(temp_5).strip()))
    print(f"An estimate of PI is {temp_2} with an error of {abs(temp_2 - pi)}")
